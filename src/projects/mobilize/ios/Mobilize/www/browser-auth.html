<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Mobilize Authentication</title>

    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/browser-login.css">

    <!-- IMPORT JQUERY AND EXTENSIONS -->
    <script type="text/javascript" src="lib/jquery/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery/jquery.extensions.js"></script>

    <script type="text/javascript" src="js/util/DeviceDetection.js"></script>
    <script type="text/javascript" src="js/util/LocalMap.js"></script>
    <script type="text/javascript" src="js/PageNavigation.js"></script>
    <script type="text/javascript" src="js/config/ConfigManager.js"></script>
    <script type="text/javascript" src="js/controllers/service/ServiceController.js"></script>
    <script type="text/javascript" src="js/UserAuthentication.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            $("#loginform").submit(function () {
                var username = $("#username").val(),
                    password = $("#password").val();
                    
                if (username.length === 0) {
                    alert("Please enter your username.");
                    $("#username").focus();

                } else if (password.length === 0) {
                    alert("Please enter your password.");
                    $("#password").focus();

                } else {
                    auth.authenticateByToken(username, password, function (success) {
                        if (success) {
                            $.cookie("auth_token", auth.getAuthToken());
                            PageNavigation.openDashboard();
                        } else {
                            alert("Wrong username or password! Please try agian.");
                        }
                    });
                }



                return false;
            });
        });


    </script>

  </head>
  <body>
    <div id="logindiv">
      <form id="loginform" class="well form-inline"><img id="logo" src="img/mobilize-logo.png" alt="logo">
        <fieldset>
          <div class="control-group">
            <div class="controls">
              <input id="username" placeholder="user" type="text" class="input-xlarge">
            </div>
          </div>
          <div class="row">
            <div class="control-group span3">
              <div class="controls">
                <input id="password" placeholder="password" name="password" type="password" class="input-xlarge">
              </div>
            </div>
            <div class="span1">
              <button id="loginbutton" class="btn btn-info">Login</button>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </body>
</html>
